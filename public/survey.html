<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FriendFinder</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <link rel="stylesheet" href="./styles/style3.css">
    <link href="https://fonts.googleapis.com/css?family=Gugi" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">


</head>

<body>

    <header>
        <img id="reel" src="https://media3.giphy.com/media/Vw3k4Vro0Q5KE/giphy.gif">
    </header>
    <div class="container">
        <br>
        <h2>Movie Generator</h2>
        <hr id="break">
        <h3><strong>About You</strong></h3>
        <p>Please answer all questions in the required field</p>
        <h4>Name (Required)</h4>
        <input type="text" name="" id="name" class="form-control" required>
        <br>

        <section id="friend-form">
            <section class="form-group">
                <h3>Question 1</h3>
                <label for="item1" class="control-label">
                    Pick a Genre?
                </label>
                <div>
                    <select class="form-control" id="item1">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">(Horror)</option>
                        <option value="2">(Comedy)</option>
                        <option value="3">(Action)</option>
                        <option value="4">(Documentary)</option>
                        <option value="5">(Sci-Fi)</option>
                        <optin value="6">(Crime)</option>
                    </select>
                </div>
            </section>
            <section class="form-group">
                <h3>Question 2</h3>
                <label for="item2" class="control-label">
                    What is your favorite movie rating?
                </label>
                <div>
                    <select class="form-control" id="item2">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">(Pg 13)</option>
                        <option value="2">(R)</option>
                        <option value="3">(G)</option>
                        <option value="4">(MA)</option>
                        <option value="5">(PG)</option>

                    </select>
                </div>
            </section>
            <section class="form-group">
                <h3>Question 3</h3>
                <label for="item3" class="control-label">
                    Pick a Runtime?
                </label>
                <div>
                    <select class="form-control" id="item3">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">>60 minutes)</option>
                        <option value="2">(90 minutes)</option>
                        <option value="3">(105 minutes)</option>
                        <option value="4">(120 minutes)</option>

                    </select>
                </div>
            </section>
            <section class="form-group">



                <h3>Question 4</h3>
                <label for="item4" class="control-label">
                    Pick a Decade(s)
                </label>
                <div>
                    <select class="form-control" id="item4">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">(60's)</option>
                        <option value="2">(70's)</option>
                        <option value="3">(80's)</option>
                        <option value="4">(90's)</option>
                        <option value="5">(2000's)</option>
                    </select>
                </div>
            </section>
            <section class="form-group">
                <h3>Question 5</h3>
                <label for="item5" class="control-label">
                    Do you like sitting through a movie that longer than two hours?
                </label>
                <div>
                    <select class="form-control" id="item5">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">(Yes)</option>
                        <option value="2">(No)</option>
                    </select>
                </div>
            </section>
            <section class="form-group">
                <h3>Question 6</h3>
                <label for="item6" class="control-label">
                    Pick a Language?
                </label>
                <div>
                    <select class="form-control" id="item6">
                        <option value="" selected disabled>Choose</option>
                        <option value="1">(English)</option>
                        <option value="2">(Spanish)</option>
                        <option value="3">(Italian)</option>
                        <option value="4">(German)</option>
                        <option value="5">(French)</option>
                    </select>
                </div>
            </section>
        </section>

        </section>
        </section>
        <!-- Modal -->


        <button type="submit" class="btn btn-danger btn-lg btn-block" id="submit">Submit</button>
        <br><br><br>


    </div>

    <script type="text/javascript">
        /// chosen css
        //capturing the form input with the submitbutton
        $("#submit").on("click", function () {

            //validation for the form
            function validateForm() {
                var isValid = true;
                $(".form-control").each(function () {
                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });

                $(".chosen-select").each(function () {

                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });
                return isValid;
            }

            //creating an object for the user data if the fields are filled
            if (validateForm()) {

                var userData = {
                    name: $("#name").val(),
                    photo: $("photo").val(),
                    scores: [
                        $("#item1").val(),
                        $("#item2").val(),
                        $("#item3").val(),
                        $("#item4").val(),
                        $("#item5").val(),
                        $("#item6").val(),
                        $("#item7").val(),
                    ]
                };

                $.post("/api/movies")
                    .then(window.location.href = 'results.html');
                //grab the URL 0f the website
                // var currentURL = window.location.origin;

                // $.post(currentURL + "/api/movies", userData, function (data) {

                //     // grab image of the match and display
                //     $("#matchName").text(data.name);
                //     $("#matchImg").attr("src", data.photo);

                //     $("#resultsModal").modal("toggle");

                // });
            }
            else {
                alert("please fill out all of the fields before hitting submit");
            }
            return false;
        });

    </script>
</body>
 
</html>